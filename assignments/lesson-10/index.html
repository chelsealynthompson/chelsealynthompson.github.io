<!doctype html>
<html lang="en-us">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Weather Daily</title>
    <meta name="author" content="Chelsea Thompson">
    <meta name="description" content="weather for the town of Franklin">   
    <link href="https://fonts.googleapis.com/css?family=Open+Sans+Condensed:300" rel="stylesheet">  
    <link href="styles/normalize.css" rel="stylesheet"> 
    <link href="styles/main-7.css" rel="stylesheet">    
    <link href="styles/medium-7.css" rel="stylesheet">  
    <link href="styles/large-7.css" rel="stylesheet">
    </head>
<body>
    
    <header>
        <img src="images/logotrans.png" alt="The site logo" width="258" height="180">
        <h1>Weather Daily</h1>
        <div class="subheading">Your Weather. Your Way.</div>
        </header>
    <nav>
            <ul>
    	       <li><a href="index.html">Home</a></li>
    	       <li class="active"><a href="franklin-8.html">Franklin</a></li>
    	       <li><a href="#">Greenville</a></li>
    	       <li><a href="#">Springfield</a></li>
    	       <li><a href="stormcenter.html">Storm Center</a></li>
    	       <li><a href="gallery-8.html">Gallery</a></li>
                </ul>
        <button onclick="toggleHam()">&#9776;</button>
            </nav>
    
     <section id="home">
       
        </section>

    
  <footer>
        <aside>
            Chelsea Thompson
        </aside>
        <p class="footer-bar">&copy;2017 All Rights Reserved | Weather Daily | <span id="currentdate">Current Date Placeholder</span></p>
        </footer>

   <script src="scripts/hamburger.js"></script>
        <script src="scripts/currentdate.js"></script>
        <script>
            
            var section = document.querySelector('section');
        
            var requestURL = 'https://byui-cit230.github.io/weather/data/towndata.json';
            var request = new XMLHttpRequest();
                request.open('GET', requestURL);
                request.responseType = 'json';
                request.send();
        
                request.onload = function() {
                    var Towns = request.response;
                    showTowns(Towns);
                    }

        
            function showTowns(jsonObj) {
            var townNames = jsonObj['towns'];
      
            for (var i = 0; i < townNames.length; i++) {
                var myArticle = document.createElement('article');
                var myH2 = document.createElement('h2');
                var myPara1 = document.createElement('p');
                var myPara2 = document.createElement('p');
                var myPara3 = document.createElement('p');
                var myPara4 = document.createElement('p');
                var myPara5 = document.createElement('p');
                var myList = document.createElement('ul');

            myH2.textContent = townNames[i].name;
            myPara1.textContent = 'Motto: ' + townNames[i].motto;
            myPara2.textContent = 'Founded: ' + townNames[i].yearFounded;
            myPara3.textContent = 'Population: ' + townNames[i].currentPopulation;
            myPara4.textContent = 'Average RainFall: ' + townNames[i].averageRainfall;
            myPara5.textContent = 'Events:';
        
            var townEvents = townNames[i].events;
                for (var j = 0; j < townEvents.length; j++) {
                var listItem = document.createElement('li');
                listItem.textContent = townEvents[j];
                myList.appendChild(listItem);
            }  
        
            myArticle.appendChild(myH2);
            myArticle.appendChild(myPara1);
            myArticle.appendChild(myPara2);
            myArticle.appendChild(myPara3);
            myArticle.appendChild(myPara4);
            myArticle.appendChild(myPara5);
            myArticle.appendChild(myList);

            section.appendChild(myArticle);
            }
        }   
        </script>
        
    </body>
    
</html>