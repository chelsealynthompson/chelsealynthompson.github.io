<!doctype html>
<html lang="en-us">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>The Mountain Spoke | Home Page</title>
    <meta name="author" content="Chelsea Thompson">
    <meta name="description" content="weather for the town of Franklin">   
    <link href="https://fonts.googleapis.com/css?family=Open+Sans+Condensed:300" rel="stylesheet">  
    <link href="styles/normalize.css" rel="stylesheet"> 
    <link href="styles/small.css" rel="stylesheet">    
    <link href="styles/medium.css" rel="stylesheet">  
    <link href="styles/large.css" rel="stylesheet">
    </head>
<body>
    
    <header>
        <img src="images/mlogo.png" alt="The site logo" width="250" height="300" id="logo">
        <h1>The Mountain Spoke</h1>
        </header>
    <nav>
            <ul id="mainmenu">
    	       <li><a href="index.html">Home</a></li>
    	       <li class="active"><a href="adventuretours.html">Adventure Tours</a></li>
    	       <li><a href="eventpage.html">Events</a></li>
    	       <li><a href="salespage.html">Sales</a></li>
    	       <li><a href="servicepage.html">Services</a></li>
    	       <li><a href="contactpage.html">Contact</a></li>
                </ul>
        <button onclick="toggleHam()">&#9776;</button>
            </nav>
 <main class="clearfix">
        <figure class="homeimage">
            <img src="images/home.jpg" alt="bike" sizes = "95vw"
            srcset="images/home500.jpg 500w,
            images/home800.jpg 800w,
            images/home1200.jpg 1200w">
            
        </figure> 
     <div class="calltoaction">
     <h1><a href="adventuretours.html">Go on an Adventure</a></h1>
     
     </div>
     <div class="calltoaction2">
     <h1><a href="salespage.html">Shop</a></h1>
     
     </div>
 
  </main> 
    
  <footer>
        <aside>
            The Mountain Spoke <br>
            1593 Bozeman Street <br>
            Bozeman, MT <br>
            59715 <br>
            (406) 237- 0000
        </aside>
        <p class="footer-bar">&copy;2018 All Rights Reserved | The Mountain Spoke | <span id="currentdate">Current Date Placeholder</span></p>
        </footer>

   <script src="scripts/hamburger.js"></script>
        <script src="scripts/currentdate.js"></script>
        <script>
               var section = document.querySelector('section');
        
        var request = new XMLHttpRequest();
        request.open('GET', 'https://byui-cit230.github.io/weather/data/towndata.json', true);
        request.responseType = 'json';
        request.send();
        
        request.onload = function() {
            var townData = request.response;
            showData(townData);
        }
        
        function showData(jsonObj) {
          var data = jsonObj['towns'];

          for (var i = 0; i < data.length; i++) {
            if (i == 2){
                continue;
            }
            var myArticle = document.createElement('article');
            var myH2 = document.createElement('h2');
            var myPara1 = document.createElement('p');
            var myPara2 = document.createElement('p');
            var myPara3 = document.createElement('p');
            var myPara4 = document.createElement('p');
            var myList = document.createElement('ul');

            myH2.textContent = data[i].name;
            myPara1.textContent = 'Town Motto: ' + data[i].motto;
            myPara2.textContent = 'Year Founded: ' + data[i].yearFounded;
            myPara3.textContent = 'Current Population: ' + data[i].currentPopulation; 
            myPara4.textContent = 'Average Rainfall: ' + data[i].averageRainfall;

            var townEvents = data[i].events;
            for (var j = 0; j < townEvents.length; j++) {
                if (j == 2){
                continue;
            }
               var listItem = document.createElement('li');
               listItem.textContent = townEvents[j];
               myList.appendChild(listItem);
            }

            myArticle.appendChild(myH2);
            myArticle.appendChild(myPara1);
            myArticle.appendChild(myPara2);
            myArticle.appendChild(myPara3);
            myArticle.appendChild(myPara4);
            myArticle.appendChild(myList);

            section.appendChild(myArticle);
  }
}  
        </script>
        
    </body>
       <script>
        var urlString, urlArray, pageHREF, menu, i, currentURL;
        urlString = document.location.href;
        urlArray = urlString.split('/');
        pageHREF = urlArray[urlArray.length - 1];

        if (pageHREF !== "") {
            menu = document.querySelectorAll('ul#mainmenu li a');
            for (i = 0; i < menu.length; i++) {
                currentURL = (menu[i].getAttribute('href'));
                menu[i].parentNode.className = '';
                if (currentURL === pageHREF) {
                    menu[i].parentNode.className = 'active';
                }
            }
        }
 </script>
</html>